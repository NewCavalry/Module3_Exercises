"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1245],{56919:function(e,r,n){n.d(r,{t:function(){return d}});var t=n(7297),a=n(51889),o=n(31230),i=n(52892);function l(){var e=(0,t.Z)(["\n  mutation deleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return l=function(){return e},e}(0,o.ZP)(l());var d=function(e){var r=(0,i.Z)({id:e.id,__typename:e.__typename||"Repl"}),n=function(e,n){return n.node.id===r};return(0,a._M)((function(){return[["data",a.Dx,"recentRepls",n],["data",r]]}))}},93053:function(e,r,n){n.d(r,{A:function(){return d}});var t=n(7297),a=n(31230),o=n(21767),i=n(16092);function l(){var e=(0,t.Z)(["\n  fragment ProfilePublicReplsRepl on Repl {\n    id\n    description(plainText: true)\n    isOwner\n    pinnedToProfile\n    timeCreated\n    title\n    url\n    iconUrl\n    ...ReplLinkRepl\n    user {\n      id\n      ...UserLinkUser\n    }\n    templateInfo {\n      label\n      iconUrl\n    }\n    multiplayers {\n      id\n      image\n      username\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}var d=(0,a.Ps)(l(),o.Y,i._)},88436:function(e,r,n){n.d(r,{k:function(){return c}});var t=n(26042),a=n(7297),o=n(31230),i=n(50319);function l(){var e=(0,a.Z)(["\n  mutation ReplsDashboardDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return l=function(){return e},e}var d={},s=(0,o.Ps)(l());function c(e){var r=(0,t.Z)({},d,e);return i.D(s,r)}},92056:function(e,r,n){n.d(r,{Z:function(){return Ur}});var t=n(26042),a=n(69396),o=n(10253),i=n(29815),l=n(35944),d=n(87603),s=n.n(d),c=n(67294),u=n(7297),f=n(31230);function p(){var e=(0,u.Z)(["\n  fragment ReplsDashboardFolderItemReplFolder on ReplFolder {\n    id\n    name\n    canEdit\n    pathnames\n    image\n    timeCreated\n    replsCount\n    folderType\n  }\n"]);return p=function(){return e},e}var m=(0,f.Ps)(p()),v=n(47966),b=n(37887),g=n(50319);function h(){var e=(0,u.Z)(["\n  query ReplsDashboardReplFolderList(\n    $path: String!\n    $starred: Boolean\n    $after: String\n  ) {\n    currentUser {\n      id\n      username\n      replFolderByPath(path: $path) {\n        id\n        ownerId: userId\n        pathnames\n        canEdit\n        canCreateSubFolders\n        parent {\n          id\n          pathnames\n        }\n        folders {\n          id\n          ...ReplsDashboardFolderItemReplFolder\n        }\n        repls(starred: $starred, after: $after) {\n          items {\n            id\n            ...ReplsDashboardReplItemRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function x(){var e=(0,u.Z)(["\n  mutation ReplsDashboardCreateReplFolder(\n    $name: String!\n    $parentId: String\n    $teamId: Int\n  ) {\n    createReplFolder(name: $name, parentId: $parentId, teamId: $teamId) {\n      id\n      ...ReplsDashboardFolderItemReplFolder\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function k(){var e=(0,u.Z)(["\n  mutation ReplsDashboardMoveItemsToFolder(\n    $replIds: [String!]!\n    $folderIds: [String!]!\n    $destFolderId: String!\n    $teamId: Int\n  ) {\n    moveItemsToFolder(\n      replIds: $replIds\n      folderIds: $folderIds\n      destFolderId: $destFolderId\n      teamId: $teamId\n    ) {\n      ... on Repl {\n        __typename\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n      ... on ReplFolder {\n        __typename\n        id\n        ...ReplsDashboardFolderItemReplFolder\n      }\n    }\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}var y={},Z=(0,f.Ps)(h(),m,v.sH);var w=(0,f.Ps)(x(),m);var R=(0,f.Ps)(k(),v.sH,m);function j(e){var r=(0,t.Z)({},y,e);return g.D(R,r)}var _,I=n(92098),C=n(53201);!function(e){e.Repl="REPL",e.Folder="FOLDER"}(_||(_={}));var P=function(e){var r=e.repl,n=e.onMove,t=e.children,a=(0,o.Z)((0,C.c)({type:_.Repl,item:function(){return{id:r.id,type:_.Repl}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){if(t.didDrop()){var a=t.getDropResult();a&&n({to:a,repl:r})}}}),2),i=a[0].isDragging,d=a[1];return(0,l.BX)("div",{ref:d,style:{opacity:i?.5:1},children:[i?(0,l.tZ)(s(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,t]})},z=function(e){var r=e.folder,n=e.onMove,t=e.children,a=(0,o.Z)((0,C.c)({type:_.Folder,item:function(){return{id:r.id,type:_.Folder}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){if(t.didDrop()){var a=t.getDropResult();a&&a.id!==r.id&&n({to:a,folder:r})}}}),2),i=a[0].isDragging,d=a[1];return(0,l.BX)("div",{ref:d,style:{opacity:i?.5:1},children:[i?(0,l.tZ)(s(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,t]})},D=n(41664),S=n.n(D),F=n(90317);function N(){var e=(0,u.Z)(["\n  mutation ReplsDashboardFolderItemUpdate($folderId: String!, $name: String!) {\n    updateReplFolder(folderId: $folderId, name: $name) {\n      id\n      name\n      pathnames\n    }\n  }\n"]);return N=function(){return e},e}function B(){var e=(0,u.Z)(["\n  mutation ReplsDashboardFolderItemDelete($folderId: String!) {\n    deleteReplFolder(folderId: $folderId) {\n      id\n    }\n  }\n"]);return B=function(){return e},e}var M={},E=(0,f.Ps)(N());var T=(0,f.Ps)(B());var X=n(94184),U=n.n(X),$=n(95596),L=n(13331),A=n(14317),V=n(3401),O=n(4111),G=n(51438),W=n(52951),H=n(14924),q=n(28668),Q=n(25171),Y=n(45697),K=n.n(Y),J=function(){function e(){(0,G.Z)(this,e),this._listeners=[]}return(0,W.Z)(e,[{key:"listenOnce",value:function(e,r,n){if(this._listeners.push([e,r,n]),!e.once)throw new Error("Target does not allow once");e.once(r,n)}},{key:"listen",value:function(e,r,n){this._listeners.push([e,r,n]),e.on?e.on(r,n):e.addListener?e.addListener(r,n):e.addEventListener&&e.addEventListener(r,n)}},{key:"destroy",value:function(){this._listeners.forEach((function(e){var r=(0,o.Z)(e,3),n=r[0],t=r[1],a=r[2];n.removeListener?n.removeListener(t,a):n.removeEventListener&&n.removeEventListener(t,a)}))}}]),e}(),ee=n(69346),re=n(81255),ne=n(15085),te=function(e){(0,q.Z)(n,e);var r=(0,Q.Z)(n);function n(){var e;return(0,G.Z)(this,n),e=r.apply(this,arguments),(0,H.Z)((0,O.Z)(e),"onSubmit",(function(r){e.props.hideOnSubmit&&e.props.hideModal&&e.props.hideModal(),e.props.onSubmit(r)})),(0,H.Z)((0,O.Z)(e),"getBodyAndTitle",(function(){var r=e.props.children;if(!Array.isArray(r)&&c.Children.count(r)<2)throw new Error("Expected title and body in ActionModal");var n=r[0];if(Array.isArray(n))throw new Error("title child cannot be an array");var t=c.cloneElement(n,{className:"action-modal-title "+("undefined"!==typeof n.className?n.className:"")}),a=r[1];if(Array.isArray(a))throw new Error("body child cannot be an array");return[t,c.cloneElement(a,{className:"action-modal-body"+(a.className||"")})]})),e}return(0,W.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new J,this._eventSubscriber.listen(window.document,"keydown",(function(r){13!==r.keyCode||e.props.submitWithoutCtrl&&!r.ctrlKey&&!r.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,r=(0,o.Z)(this.getBodyAndTitle(),2),n=r[0],t=r[1];return(0,l.BX)(ee.Z,{css:[re.l0.colWithGap(24)],children:[n,t,(0,l.BX)(ee.Z,{css:[re.l0.rowWithGap(12),re.l0.justify.end],children:[!this.props.hideCancel&&(0,l.tZ)(ne.zx,{onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()},text:this.props.cancelLabel||"Cancel"},"cancel"),(0,l.tZ)(ne.zx,{colorway:this.props.deleteStyle?"negative":"primary",disabled:this.props.disableSubmit,onClick:this.onSubmit,text:this.props.submitLabel||"Ok"},"actionModalCta")]})]})}}]),n}(c.Component);(0,H.Z)(te,"propTypes",{hideModal:K().func.isRequired}),(0,H.Z)(te,"defaultProps",{autoFocus:!1});var ae=n(28898),oe=n(40963),ie=n(88652),le=n(59369),de=n(64080),se=n(57704),ce=n(83074),ue=n(90160),fe=n(18645),pe=n(99843),me=n(61193),ve=n(70917),be=n(18757),ge=n(88046),he=(0,ve.iv)([{"&&:hover button":[ne.l0.backgroundColor.backgroundHigher]}]);function xe(e){var r=e.repl,n=e.editRepl,t=e.deleteRepl,a=e.forkRepl,o=e.moveItem,i=e.togglePinnedToProfile,d=e.removeMultiplayerRepl,s=(0,me.c)("flag-repl-analytics"),c=s.enabled,u=(s.loading,r.currentUserPermissions),f=[];if((u.changeTitle||u.changeDescription)&&f.push({label:"Edit",value:"edit",icon:(0,l.tZ)(de.Z,{})}),f.push({label:"Cover page",value:"coverpage",link:(0,ge.j3)(r),icon:(0,l.tZ)(be.Z,{})}),u.containerWrite&&c&&r.analyticsUrl){var p,m={href:null!==(p=r.analyticsUrl)&&void 0!==p?p:""};f.push({label:"Analytics",value:"analytics",link:m,icon:(0,l.tZ)(pe.Z,{})})}return u.fork&&f.push({label:"Fork",value:"fork",icon:(0,l.tZ)(ce.Z,{})}),u.move&&f.push({label:"Move",value:"move",icon:(0,l.tZ)(V.Z,{})}),u.pin&&f.push({label:r.pinnedToProfile?"Unpin":"Pin",value:"pin",icon:(0,l.tZ)(ue.Z,{})}),u.delete&&f.push({label:"Delete",value:"delete",isDestructive:!0,icon:(0,l.tZ)(se.Z,{})}),u.leaveMultiplayer&&f.push({label:"Remove",value:"remove",isDestructive:!0,icon:(0,l.tZ)(fe.Z,{})}),(0,l.tZ)(ne.G7,{css:he,children:(0,l.tZ)(le.Z,{label:"Repl Actions",large:!0,items:f,onItemClick:function(e){switch(e.value){case"edit":n();break;case"coverpage":break;case"fork":a();break;case"move":o();break;case"pin":i();break;case"remove":d();break;case"delete":t()}}})})}function ke(e){var r=e.renameFolder,n=e.moveItem,t=e.deleteFolder,a=[{value:"rename",label:"Rename",icon:(0,l.tZ)(de.Z,{})},{value:"move",label:"Move",icon:(0,l.tZ)(V.Z,{})},{value:"delete",label:"Delete",isDestructive:!0,icon:(0,l.tZ)(se.Z,{})}];return(0,l.tZ)(ne.G7,{css:he,children:(0,l.tZ)(le.Z,{label:"Folder Actions",large:!0,items:a,onItemClick:function(e){switch(e.value){case"rename":r();break;case"move":n();break;case"delete":t()}}})})}var ye=n(93058),Ze=n(9252),we=n(37424),Re=function(e){var r=e.onSubmit,n=e.hideModal,t=e.defaultValue,a=e.loading,i=e.errorMessage,d=(0,o.Z)(c.useState(t||""),2),s=d[0],u=d[1],f=c.useRef(null);c.useEffect((function(){(null===f||void 0===f?void 0:f.current)&&f.current.select()}),[]);var p=function(){if(!i)return r(s);(null===f||void 0===f?void 0:f.current)&&f.current.select()},m=(0,we.H)();return(0,l.BX)(ne.G7,{css:[ne.l0.colWithGap(24)],children:[(0,l.tZ)(ne.h4,{variant:"headerDefault",level:2,css:ne.l0.maxWidth("100%"),children:"New Folder"}),(0,l.BX)(ne.G7,{css:[ne.l0.colWithGap(4)],children:[(0,l.tZ)("label",{htmlFor:m("title"),children:(0,l.tZ)(ne.xv,{color:"dimmer",variant:"small",children:"Title"})}),(0,l.tZ)(ne.II,{disabled:a,value:s,placeholder:"Name your folder",onChange:function(e){u(e.currentTarget.value)},name:"folderName",ref:f,onKeyDown:function(e){"Enter"===e.key&&p()},id:m("title")})]}),(0,l.BX)(ne.G7,{css:[ne.l0.rowWithGap(12),ne.l0.justify.end],children:[(0,l.tZ)(ne.zx,{text:"Cancel",onClick:n}),(0,l.tZ)(ne.zx,{iconLeft:(0,l.tZ)(Ze.Z,{}),disabled:a,onClick:p,text:a?"Creating Folder...":"Create Folder",colorway:"primary"})]})]})},je=n(47568),_e=n(70655),Ie=n(11163),Ce=n.n(Ie),Pe=n(93604);function ze(){var e=(0,u.Z)(["\n  fragment ReplsDashboardMoveItemReplFolder on ReplFolder {\n    id\n    pathnames\n    folderType\n    name\n    parentId\n    timeCreated\n  }\n"]);return ze=function(){return e},e}function De(){var e=(0,u.Z)(["\n  query ReplsDashboardMoveItemModalFolder($id: String!, $teamId: Int) {\n    currentUser {\n      id\n      replFolder(id: $id, teamId: $teamId) {\n        id\n        folders {\n          id\n          ...ReplsDashboardMoveItemReplFolder\n        }\n      }\n    }\n  }\n  ","\n"]);return De=function(){return e},e}var Se={},Fe=(0,f.Ps)(ze()),Ne=(0,f.Ps)(De(),Fe);var Be,Me=n(33773),Ee={id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},Te=function(e){var r=e.folder,n=e.onSelect,t=e.onNavigate,a=e.isSelected,o=e.isBack,i=void 0!==o&&o;return(0,l.BX)("div",{onClick:function(){n&&n(r)},className:"jsx-ef206f2446a172a6 "+(U()("small-folder-row-container",{"is-selected":a})||""),children:[(0,l.BX)("div",{className:"jsx-ef206f2446a172a6 small-folder-title",children:[(0,l.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-icon-container",children:i?(0,l.tZ)("div",{className:"jsx-ef206f2446a172a6 small-back-folder-icon",children:(0,l.tZ)(Me.Z,{})}):(0,l.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-icon",children:(0,l.tZ)(V.Z,{})})}),(0,l.tZ)("a",{onClick:function(e){return t?t(r,e):function(){}},className:"jsx-ef206f2446a172a6",children:r.name})]}),(0,l.tZ)("div",{className:"jsx-ef206f2446a172a6 small-folder-time",children:r.timeCreated?(0,Pe.F)(r.timeCreated):""}),(0,l.tZ)(s(),{id:"ef206f2446a172a6",children:".small-folder-row-container.jsx-ef206f2446a172a6{height:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px}.small-folder-row-container.jsx-ef206f2446a172a6:hover{cursor:pointer;background-color:var(--background-root)}.small-folder-icon-container.jsx-ef206f2446a172a6{height:20px;width:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-back-folder-icon.jsx-ef206f2446a172a6{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.small-folder-icon.jsx-ef206f2446a172a6{width:20px}.small-back-folder-icon.jsx-ef206f2446a172a6{width:17px}.small-folder-title.jsx-ef206f2446a172a6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-folder-title.jsx-ef206f2446a172a6 a.jsx-ef206f2446a172a6{margin-left:20px;color:var(--foreground-dimmer);border-bottom:none;color:inherit}.small-folder-time.jsx-ef206f2446a172a6{font-size:12px;color:var(--foreground-dimmer)}.small-folder-row-container.is-selected.jsx-ef206f2446a172a6:hover,.is-selected.jsx-ef206f2446a172a6{background-color:var(--accent-primary-default);color:var(--background-higher)}.is-selected.jsx-ef206f2446a172a6 .small-folder-time.jsx-ef206f2446a172a6{color:inherit}"})]})},Xe=function(e){var r,n,i=e.item,d=e.isRepl,u=e.teamId,f=e.hideModal,p=/\/@([^/]*)/.exec(Ce().asPath||""),m=p?p[1]:null,v=u&&m?function(e,r){return{id:"__TEAM__".concat(e,"__"),name:"@".concat(r),pathnames:["@".concat(r)],canEdit:!1,timeCreated:null}}(u,m):Ee,g=(0,o.Z)(c.useState(null),2),h=g[0],x=g[1],k=(0,o.Z)(c.useState(v),2),y=k[0],Z=k[1],w=(0,o.Z)(c.useState([]),2),R=w[0],j=w[1],_=function(e){var r=(0,t.Z)({},Se,e);return b.a(Ne,r)}({fetchPolicy:"cache-and-network",variables:{id:y.id,teamId:u},ssr:!1,notifyOnNetworkStatusChange:!0}).data,I=function(e){x(e===h?null:e)},C=function(e,r){r.stopPropagation(),e.pathnames.length>y.pathnames.length?R.push(y):R.pop(),Z(e),x(e),j(R)},P=function(){var r=(0,je.Z)((function(){var r,n;return(0,_e.__generator)(this,(function(t){return r=[],n=[],d?r.push(i.id):n.push(i.id),e.onSubmit({variables:{destFolderId:h?h.id:"",replIds:r,folderIds:n,teamId:u}}),[2]}))}));return function(){return r.apply(this,arguments)}}(),z=((null===_||void 0===_||null===(r=_.currentUser)||void 0===r||null===(n=r.replFolder)||void 0===n?void 0:n.folders)||[]).filter((function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===F.RV.Default&&(!!d||e.id!==i.id)})).map((function(e){return(0,a.Z)((0,t.Z)({},e),{pathnames:e.pathnames.slice(1)})})),D=R[R.length-1]||v,S=h?h.id:"",N="name"in i?i.name:i.title;return(0,l.BX)(te,{modalStyle:{width:"550px"},onSubmit:P,hideOnSubmit:!0,submitLabel:"Move",hideModal:f,children:[(0,l.BX)("div",{children:["Move ",N," to:"]}),(0,l.BX)("div",{children:[(0,l.BX)("div",{className:"jsx-424e91159ff60 folder-picker-container",children:[y.pathnames&&y.pathnames.join()!==v.pathnames.join()?(0,l.tZ)(Te,{folder:(0,a.Z)((0,t.Z)({},D),{name:"(up one level)"}),isBack:!0,onNavigate:C,isSelected:S===D.id}):null,z?z.map((function(e){return(0,l.tZ)(Te,{folder:e,onSelect:I,onNavigate:C,isSelected:e.id===S},"move-folder-".concat(e.id))})):null,(0,l.tZ)(s(),{id:"424e91159ff60",children:".folder-picker-container.jsx-424e91159ff60{height:250px;border:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto}"})]}),(0,l.BX)("div",{children:["Moving to:"," ",h?h.pathnames[h.pathnames.length-1]:y.pathnames[y.pathnames.length-1]||"(home)/"]})]})]})},Ue=n(1879),$e=n(1144);!function(e){e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem"}(Be||(Be={}));var Le=function(e){var r=e.folder;if(r.folderType===F.RV.Multiplayer)return(0,l.tZ)($.Z,{size:20});if(r.folderType===F.RV.Boosts)return(0,l.tZ)(L.Z,{size:20});if(r.folderType===F.RV.AlwaysOn)return(0,l.tZ)(A.Z,{size:20});if(r.folderType===F.RV.Team){var n=r.image?{url:r.image}:void 0;return(0,l.tZ)(ae.Z,{image:n})}return r.folderType===F.RV.AllTeams?(0,l.tZ)($.Z,{size:20}):(0,l.tZ)(V.Z,{size:20})},Ae=function(e){var r=e.folder,n=e.teamId,i=e.username,d=e.onDelete,s=e.onMove,u=(0,c.useState)(null),f=u[0],p=u[1],m=(0,ye.Z)(),v=m.showConfirm,b=m.showError,h=(0,c.useState)(""),x=h[0],k=h[1],y=(0,o.Z)(function(e){var r=(0,t.Z)({},M,e);return g.D(E,r)}(),2),Z=y[0],w=y[1],R=(0,o.Z)(function(e){var r=(0,t.Z)({},M,e);return g.D(T,r)}({variables:{folderId:r.id}}),2),_=R[0],I=R[1],C=(0,o.Z)(j(),2),P=C[0],z=C[1],D=[w.error,I.error,z.error];(0,c.useEffect)((function(){var e=!0,r=!1,n=void 0;try{for(var t,a=D[Symbol.iterator]();!(e=(t=a.next()).done);e=!0){var o=t.value;o&&(o.graphQLErrors[0]&&o.graphQLErrors[0].message?b(o.graphQLErrors[0].message):b("Something went wrong when updating this folder"))}}catch(i){r=!0,n=i}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}),D),(0,c.useEffect)((function(){I.data&&(v("Folder deleted"),d())}),[I.data]),(0,c.useEffect)((function(){w.data&&v("Folder renamed")}),[w.data]),(0,c.useEffect)((function(){z.data&&(v("Folder moved"),s())}),[z.data]);var N=r.pathnames.slice(1).join("/");return(0,l.BX)(ne.G7,{css:[ne.l0.rowWithGap(32),{width:"100%"}],children:[(0,l.tZ)(S(),(0,a.Z)((0,t.Z)({},i&&r.folderType!==F.RV.Team&&void 0===n?(0,ie.wQ)({pathnames:r.pathnames,username:i}):(0,ie.xd)({pathnames:r.pathnames})),{children:(0,l.BX)("a",{className:U()("folder-item",{team:r.folderType===F.RV.Team}),css:[ne.l0.rowWithGap(32),ne.l0.justify.spaceBetween,ne.l0.align.center,ne.l0.p(8),ne.l0.borderRadius(8),ne.l0.color.foregroundDefault,{minHeight:"54px",width:"100%",display:"flex",":hover":{backgroundColor:ne.TV.backgroundDefault}}],children:[(0,l.BX)(ne.G7,{css:[ne.l0.rowWithGap(16),ne.l0.justify.center],children:[(0,l.tZ)(Le,{folder:r}),(0,l.BX)($e.x,{variant:"subheadDefault",children:[r.name,r.replsCount?" (".concat(r.replsCount,")"):null]})]}),(0,l.tZ)($e.x,{color:"dimmer",variant:"small",children:r.canEdit?(0,ie.Sy)(new Date(r.timeCreated)):null}),(0,l.tZ)("div",{onClick:function(e){return e.preventDefault()},className:"actions",children:r.canEdit?(0,l.tZ)(ke,{renameFolder:function(){return p(Be.RenameFolder)},deleteFolder:function(){return p(Be.DeleteFolder)},moveItem:function(){return p(Be.MoveItem)}}):null})]})})),(0,l.BX)(Ue.Z,{isOpen:null!==f,onRequestClose:function(){p(null)},children:[f===Be.RenameFolder?(0,l.tZ)(Re,{defaultValue:r.name,hideModal:function(){return p(null)},onSubmit:function(e){!function(e){w.loading||Z({variables:{folderId:r.id,name:e}})}(e),p(null)},loading:w.loading}):null,f===Be.DeleteFolder?(0,l.BX)(te,{modalStyle:{maxWidth:"550px"},onSubmit:function(e){e&&e.preventDefault(),I.loading||(p(null),_())},deleteStyle:!0,submitLabel:I.loading?"Deleting folder...":"Yes, delete this folder",disableSubmit:x!==N,hideModal:function(){p(null)},children:[(0,l.tZ)($e.h,{variant:"headerDefault",level:2,children:"Delete folder"}),(0,l.tZ)("div",{children:(0,l.BX)(ne.G7,{css:[ne.l0.colWithGap(24)],children:[(0,l.tZ)($e.x,{multiline:!0,children:"Are you sure you want to delete this folder? This will remove all Repls and folders within. This cannot be undone."}),(0,l.BX)(ne.G7,{css:[ne.l0.colWithGap(8)],children:[(0,l.tZ)("label",{htmlFor:"folderPath",children:(0,l.BX)($e.x,{color:"dimmer",variant:"small",children:["Type the folder path (",N,") to delete"]})}),(0,l.tZ)(oe.ZP,{id:"folderPath",disabled:!!I.loading,autoFocus:!0,value:x,onChange:function(e){return k(e.currentTarget.value)}})]})]})})]}):null,f===Be.MoveItem?(0,l.tZ)(Xe,{item:r,teamId:n,isRepl:!1,onSubmit:function(e){z.loading||P(e)},hideModal:function(){return p(null)}}):null]})]})},Ve=n(74591),Oe=n(21266),Ge=n(33319),We=function(e){var r=e.enabled,n=e.onChange;return(0,l.BX)("div",{onClick:n,className:"jsx-22a3e62a48b3bd0 "+(U()("privacy-toggle-root",{enabled:r})||""),children:[!r&&(0,l.tZ)("div",{className:"jsx-22a3e62a48b3bd0 privacy-toggle-element",children:(0,l.tZ)(Ge.Z,{color:"var(--foreground-dimmer)"})}),r?(0,l.tZ)("div",{className:"jsx-22a3e62a48b3bd0 privacy-toggle-element",children:(0,l.tZ)(Oe.Z,{height:14,width:20,color:"var(--background-default)"})}):null,(0,l.tZ)(s(),{id:"22a3e62a48b3bd0",children:".privacy-toggle-root.jsx-22a3e62a48b3bd0{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;background-color:var(--background-default);border:1.5px solid var(--outline-dimmest);height:24px;width:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--foreground-dimmer)}.privacy-toggle-root.enabled.jsx-22a3e62a48b3bd0{background-color:var(--foreground-dimmest);-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.icon.jsx-22a3e62a48b3bd0{height:18px;width:18px}.privacy-toggle-element.jsx-22a3e62a48b3bd0{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:0 2px}"})]})},He=n(80658),qe=n(41461),Qe=n(59292),Ye=n(56919),Ke=n(60977),Je=function(){return(0,l.BX)("svg",{className:"double-user-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.391 8.483",children:[(0,l.tZ)("defs",{className:"jsx-9a69dfb7376e89c2",children:(0,l.tZ)(s(),{id:"9a69dfb7376e89c2",children:".double-user-icon-svg{width:100%;height:100%}.double-user-icon-svg .cls-1{fill:#4e2f8a}.double-user-icon-svg .cls-2{fill:none}"})}),(0,l.BX)("g",{children:[(0,l.tZ)("ellipse",{className:"cls-1",cx:"4.62",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,l.tZ)("path",{className:"cls-1",d:"M.745,8.1C3.2,4.6,6.421,4.9,8.679,8.1Z"}),(0,l.tZ)("ellipse",{className:"cls-1",cx:"11.586",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,l.tZ)("path",{className:"cls-1",d:"M7.712,8.1c2.453-3.5,5.676-3.2,7.934,0Z"}),(0,l.tZ)("rect",{className:"cls-2",width:"16.391",height:"8.483"})]})]})},er=n(30888),rr=n(82447),nr=n(88436),tr=n(99534),ar=n(76427),or=n.n(ar),ir=n(80498),lr=function(e){(0,q.Z)(n,e);var r=(0,Q.Z)(n);function n(){var e;return(0,G.Z)(this,n),e=r.apply(this,arguments),(0,H.Z)((0,O.Z)(e),"onValidation",(function(r,n){e.validations[r]=n})),(0,H.Z)((0,O.Z)(e),"onSubmit",(function(r){for(var n in r.preventDefault(),e.inputs)if(e.inputs[n].validateNow(),e.validations[n])return void e.inputs[n].focus();e.props.onSubmit(r)})),(0,H.Z)((0,O.Z)(e),"register",(function(r,n){e.inputs[r]=n})),(0,H.Z)((0,O.Z)(e),"validations",{}),(0,H.Z)((0,O.Z)(e),"inputs",{}),e}return(0,W.Z)(n,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,r=e.Component,n=e.children,o=(0,tr.Z)(e,["Component","children"]);return(0,l.tZ)(r,(0,a.Z)((0,t.Z)({},or()(o,["onSubmit"])),{onSubmit:this.onSubmit,children:n}))}}]),n}(c.Component);(0,H.Z)(lr,"childContextTypes",{validatedForm:K().object}),(0,H.Z)(lr,"defaultProps",{Component:"form"});var dr=function(e){(0,q.Z)(n,e);var r=(0,Q.Z)(n);function n(){return(0,G.Z)(this,n),r.apply(this,arguments)}return(0,W.Z)(n,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,r=this.context.validatedForm,n=r.onValidation,o=r.register;return(0,l.tZ)(ir.a,(0,a.Z)((0,t.Z)({},or()(this.props,["onValidation","ref"])),{onValidation:function(r){return n(e.props.name,r)},ref:function(r){e.input=r,o(e.props.name,r)},theme:this.props.theme}))}}]),n}(c.Component);(0,H.Z)(dr,"contextTypes",{validatedForm:K().object.isRequired}),(0,H.Z)(dr,"defaultProps",{theme:"replitLight"});var sr,cr=function(e){(0,q.Z)(n,e);var r=(0,Q.Z)(n);function n(e){var t;return(0,G.Z)(this,n),t=r.call(this,e),(0,H.Z)((0,O.Z)(t),"onSubmit",(function(){t.props.onSubmit(t.state)})),t.state={title:t.props.repl.title,description:t.props.repl.description||""},function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];n.forEach((function(r){e["on".concat(r[0].toUpperCase()).concat(r.slice(1),"Change")]=function(n){var t;t=n&&n.target&&void 0!==n.currentTarget.value?n.currentTarget.value:n,e.setState((0,H.Z)({},r,t))}}))}((0,O.Z)(t),"title","description"),t}return(0,W.Z)(n,[{key:"render",value:function(){return(0,l.BX)(te,{hideModal:this.props.hideModal,onCancel:this.props.hideModal,onSubmit:this.onSubmit,submitLabel:"Save",children:[(0,l.tZ)($e.h,{variant:"headerDefault",level:2,children:"Edit Repl"}),(0,l.BX)(lr,{onSubmit:this.onSubmit,css:[re.l0.colWithGap(24)],children:[(0,l.BX)(ee.Z,{css:[re.l0.colWithGap(8)],children:[(0,l.tZ)("label",{htmlFor:"replTitle",children:(0,l.tZ)($e.x,{variant:"small",color:"dimmer",children:"Title"})}),(0,l.tZ)(oe.ZP,{id:"replTitle",autoFocus:!0,name:"title",placeholder:"Name your Repl",validator:"replTitle",value:this.state.title,onChange:this.onTitleChange})]}),(0,l.BX)(ee.Z,{css:[re.l0.colWithGap(8)],children:[(0,l.tZ)("label",{htmlFor:"replDescription",children:(0,l.tZ)($e.x,{variant:"small",color:"dimmer",children:"Description"})}),(0,l.tZ)(oe.ZP,{id:"replDescription",name:"description",placeholder:"What does this Repl do?",validator:"replDescription",value:this.state.description,onChange:this.onDescriptionChange})]})]})]})}}]),n}(c.Component),ur=cr,fr=function(e){var r=e.fill,n=e.stroke,t=e.name;return(0,l.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.956 24.818",width:"24.956",height:"24.818",children:[(0,l.tZ)("defs",{children:(0,l.tZ)("style",{children:"\n        .repl-star-svg-".concat(t," {\n          fill:").concat(r,";\n          stroke:").concat(n,";\n          stroke-miterlimit:10;\n        }\n      ")})}),(0,l.tZ)("path",{className:"repl-star-svg-".concat(t),d:"M23.319,9.255h-7.6a.474.474,0,0,1-.452-.332l-2.313-7.4a.474.474,0,0,0-.9,0l-2.313,7.4a.474.474,0,0,1-.452.332h-7.6a.474.474,0,0,0-.284.853l6.189,4.64a.474.474,0,0,1,.168.52L5.31,23.077a.474.474,0,0,0,.748.511L12.2,18.673a.474.474,0,0,1,.592,0l6.145,4.916a.474.474,0,0,0,.748-.511l-2.441-7.809a.474.474,0,0,1,.168-.52l6.189-4.64A.474.474,0,0,0,23.319,9.255Z"})]})},pr=function(e){var r=e.selected,n=e.onClick,t=e.children,a=e.isDarkColorScheme;return(0,l.BX)("div",{onClick:n,className:"jsx-80165c55f8ab4d67 "+(U()("repl-star",{"repl-star-selected":r})||""),children:[(0,l.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-active",children:(0,l.tZ)(mr,{isDarkColorScheme:a})}),(0,l.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-hover",children:(0,l.tZ)(vr,{})}),(0,l.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-inactive",children:(0,l.tZ)(br,{})}),(0,l.tZ)("div",{className:"jsx-80165c55f8ab4d67 repl-star-tooltip",children:t}),(0,l.tZ)(s(),{id:"80165c55f8ab4d67",children:".repl-star.jsx-80165c55f8ab4d67{width:40px;height:40px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.repl-star-hover.jsx-80165c55f8ab4d67,.repl-star-active.jsx-80165c55f8ab4d67,.repl-star-inactive.jsx-80165c55f8ab4d67{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.repl-star-hover.jsx-80165c55f8ab4d67,.repl-star-active.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-active.jsx-80165c55f8ab4d67,.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-inactive.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-hover.jsx-80165c55f8ab4d67{display:block}.repl-star-selected.jsx-80165c55f8ab4d67:hover .repl-star-hover.jsx-80165c55f8ab4d67{display:none}.repl-star-selected.jsx-80165c55f8ab4d67:hover .repl-star-active.jsx-80165c55f8ab4d67,.repl-star.jsx-80165c55f8ab4d67:active .repl-star-active.jsx-80165c55f8ab4d67,.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-active.jsx-80165c55f8ab4d67{display:block}.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-inactive.jsx-80165c55f8ab4d67,.repl-star-selected.jsx-80165c55f8ab4d67 .repl-star-hover.jsx-80165c55f8ab4d67{display:none}.repl-star.jsx-80165c55f8ab4d67:hover .repl-star-tooltip.jsx-80165c55f8ab4d67{display:block}.repl-star-tooltip.jsx-80165c55f8ab4d67{z-index:1;display:none;position:absolute;top:-5px;left:50%;-webkit-transform:translate(-50%,-100%);-moz-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);-o-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}"})]})},mr=function(e){var r=e.isDarkColorScheme;return(0,l.tZ)(fr,{fill:r?re.TV.yellowStrongest:re.TV.yellowDimmest,stroke:re.TV.yellowDefault,name:"active"})},vr=function(){return(0,l.tZ)(fr,{fill:"var(--foreground-dimmest)",stroke:"var(--accent-yellow-default)",name:"hover"})},br=function(){return(0,l.tZ)(fr,{fill:"var(--foreground-dimmest)",stroke:"var(--outline-dimmest)",name:"inactive"})};!function(e){e.EditRepl="EditRepl",e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem"}(sr||(sr={}));var gr=function(e){var r,n,i=e.repl,d=e.onDelete,u=e.onMove,f=e.onPinToggle,p=void 0===f?function(){}:f,m=e.teamId,b=(0,er.F)().isDarkColorScheme,g="/replsDashboard"===(0,Ie.useRouter)().pathname,h=void 0===m,x=function(){if(!I.loading){var e=!i.isPrivate;_({variables:{input:{id:i.id,isPrivate:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,a.Z)((0,t.Z)({},i),{isPrivate:e})}}}).then((function(r){r.errors?ee(r.errors[0].message):J(e?"Repl Made Private":"Repl Made Public")})),(0,Ke.j)(Ke.U3.PRIVATE_TOGGLED,{enabled:e,source:"my_repls"})}},k="Allowed"===i.currentUserPermissions.changePrivacy&&null!=m,y=(0,qe.n)({onPowerUpSuccess:x,context:"my_repls",isPrivate:i.isPrivate,teamReplPermissionOverride:k}),Z=y.userProps,w=y.modalProps,R=(0,o.Z)((0,v.G5)(),2),_=R[0],I=R[1],C=(0,o.Z)(j({onCompleted:function(e){e.moveItemsToFolder.every((function(e){return"Repl"===e.__typename||"ReplFolder"===e.__typename}))?(J("Repl moved"),u()):ee("Something went wrong")},onError:function(e){ee(e.message)}}),2),P=C[0],z=C[1],D=(0,o.Z)((0,Qe.Z)({onError:function(){ee("Error forking repl")}}),2),N=D[0],B=D[1].loading,M=(0,o.Z)((0,v.x$)({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename&&e.pinReplToProfile2.pinnedToProfile?(J((0,l.BX)("span",{children:["Repl pinned to profile",(0,l.tZ)("br",{}),i.user&&g?(0,l.tZ)("a",{href:i.user.url,target:"_blank",children:"View Profile"}):null]})),p()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{replId:i.id}}),2),E=M[0],T=M[1],X=(0,o.Z)((0,v.cM)({onCompleted:function(e){"Repl"!==e.unpinReplFromProfile2.__typename||e.unpinReplFromProfile2.pinnedToProfile?ee("Something went wrong"):(J((0,l.BX)("span",{children:["Repl unpinned from profile",(0,l.tZ)("br",{}),i.user&&g?(0,l.tZ)("a",{href:i.user.url,target:"_blank",children:"View Profile"}):null]})),p())},onError:function(e){return ee(e.message)},variables:{replId:i.id}}),2),U=X[0],$=X[1],A=(0,o.Z)((0,nr.k)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(J("Repl deleted"),d()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{id:i.id},update:(0,Ye.t)({id:i.id})}),2),V=A[0],O=A[1],G=(0,o.Z)((0,v.CW)({onCompleted:function(e){"Repl"===e.removeSharedRepl.__typename?(J("Repl removed"),d()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{id:i.id}}),2),W=G[0],H=G[1],q=(0,c.useState)(null),Q=q[0],Y=q[1],K=(0,ye.Z)(),J=K.showConfirm,ee=K.showError,re=i.currentUserPermissions.star,oe=i.currentUserPermissions.changePrivacy!==F.HA.Disallowed;return(0,l.BX)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]]),children:[(0,l.tZ)(S(),(0,a.Z)((0,t.Z)({},(0,ge.aq)(i)),{children:(0,l.BX)("a",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" repl-item",children:[re?(0,l.tZ)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" star",children:(0,l.tZ)(pr,{selected:i.isStarred,onClick:function(e){if(e.preventDefault(),!I.loading){var r=!i.isStarred;_({variables:{input:{id:i.id,isStarred:r}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,a.Z)((0,t.Z)({},i),{isStarred:r})}}}).then((function(e){e.errors?ee(e.errors[0].message):J(r?"Repl Starred":"Repl Unstarred")}))}},isDarkColorScheme:b})}):null,oe?(0,l.tZ)("div",{"aria-label":i.isPrivate?"Private. Only you and invited multiplayers can see this repl.":"Public. Anyone can see this repl.","data-microtip-position":"right",role:"tooltip",className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" privacy-toggle",children:(0,l.tZ)(We,{enabled:i.isPrivate,onChange:function(e){e.preventDefault(),i.isPrivate?x():Z.requestEnablePrivate()}})}):null,(0,l.BX)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" title",children:[(0,l.tZ)("span",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" title-link",children:i.title}),i.isBoosted?(0,l.tZ)("div",{"aria-label":"Boosted","data-microtip-position":"bottom",role:"tooltip",className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" boosts-indicator",children:(0,l.tZ)(L.Z,{size:12,color:"var(--accent-positive-default)"})}):null,i.isAlwaysOn?(0,l.tZ)("div",{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" always-on-indicator"}):null,i.isOwner?null:(0,l.tZ)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" multiplayer-icon",children:(0,l.tZ)(Je,{})})]}),!i.isOwner&&i.user?(0,l.tZ)(S(),(0,a.Z)((0,t.Z)({},(0,rr.Ru)(i.user)),{children:(0,l.BX)("a",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" user-link",children:[(0,l.tZ)(ae.Z,{size:"inherit",url:i.user.image}),(0,l.BX)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" user-name-link",children:["@",i.user.username]})]})})):null,(0,l.tZ)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" language",children:i.templateInfo.label}),(0,l.tZ)("div",{title:i.timeCreated.toLocaleString().replace(",",""),className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" time",children:(0,ie.Sy)(new Date(i.timeCreated))}),i.isOwner?(0,l.tZ)("div",{className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" size",children:(0,ie.or)({bytes:i.size})}):null,(0,l.tZ)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},className:s().dynamic([["bb3bd20dd2d2896a",[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"]]])+" actions",children:(0,l.tZ)(xe,{editRepl:function(){return Y(sr.EditRepl)},deleteRepl:function(){return Y(sr.DeleteRepl)},removeMultiplayerRepl:function(){return Y(sr.RemoveRepl)},togglePinnedToProfile:function(){T.loading||$.loading||(i.pinnedToProfile?U():E())},moveItem:function(){return Y(sr.MoveItem)},forkRepl:function(){B||Y(sr.ForkRepl)},repl:i})})]})})),(0,l.tZ)(ne.u_,{isOpen:Q===sr.EditRepl,onRequestClose:function(){return Y(null)},children:(0,l.tZ)(ur,{repl:i,onSubmit:function(e){Y(null),function(e){var r=e.title,n=e.description;I.loading||_({variables:{input:{id:i.id,title:r,description:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,a.Z)((0,t.Z)({},i),{title:r})}}}).then((function(e){e.errors?ee(e.errors[0].message):J("Repl Updated")}))}(e)},hideModal:function(){return Y(null)}})}),(0,l.tZ)(ne.u_,{isOpen:Q===sr.DeleteRepl,onRequestClose:function(){return Y(null)},children:(0,l.tZ)(Ve.Z,{name:i.title,entityType:"Repl",delete:function(){O.loading||V()},hideModal:function(){return Y(null)}})}),(0,l.tZ)(ne.u_,{isOpen:Q===sr.MoveItem,onRequestClose:function(){return Y(null)},children:(0,l.tZ)(Xe,{item:i,teamId:m,isRepl:!0,onSubmit:function(e){z.loading||P(e)},hideModal:function(){return Y(null)}})}),(0,l.tZ)(ne.u_,{isOpen:Q===sr.RemoveRepl,onRequestClose:function(){return Y(null)},children:(0,l.BX)(te,{onSubmit:function(){H.loading||W()},onCancel:function(){return Y(null)},hideModal:function(){return Y(null)},deleteStyle:!0,children:[(0,l.tZ)(ne.h4,{variant:"headerDefault",level:1,children:"Leave multiplayer Repl"}),(0,l.tZ)(ne.xv,{multiline:!0,children:"Are you sure you want to leave this multiplayer Repl? You will no longer be able to access its content."})]})}),(0,l.tZ)(ne.u_,{isOpen:Q===sr.ForkRepl,onRequestClose:function(){return Y(null)},children:(0,l.tZ)(He.Z,{onFork:function(e,r,n,t){N({originId:i.id,teamId:e,title:r,description:n,isPrivate:t,forkToPersonal:!m||!e,trackingData:{forkSource:"replsDashboard"}})},initialTitle:i.title,initialDescription:null!==(n=i.description)&&void 0!==n?n:"",initialPrivacy:i.isPrivate,hideModal:function(){return Y(null)},teamContext:null===(r=i.user)||void 0===r?void 0:r.username})}),(0,l.tZ)(qe.N,(0,a.Z)((0,t.Z)({},w),{uponPurchaseGoTo:!g&&h?"profile":"cyclesPage"})),(0,l.tZ)(s(),{id:"bb3bd20dd2d2896a",dynamic:[re?"40px":"",oe?"48px":"",re||oe?"0":"10px",g?"var(--foreground-dimmer)":"var(--foreground-default)",g?"var(--background-default)":"var(--background-root)",g?"var(--background-default)":"var(--background-root)",g?"var(--foreground-default)":"auto",g?"var(--background-higher)":"var(--background-default)",g?"var(--background-highest)":"var(--background-higher)",g?"auto":"var(--foreground-dimmer)"],children:".repl-item.__jsx-style-dynamic-selector{position:relative;display:grid;grid-template-columns:".concat(re?"40px":""," ").concat(oe?"48px":""," minmax(125px,1fr).5fr .5fr .25fr 36px;-webkit-column-gap:10px;-moz-column-gap:10px;column-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);min-height:64px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(g?"var(--foreground-dimmer)":"var(--foreground-default)",";font-size:var(--font-size-subhead-default);text-decoration:none;background-color:").concat(g?"var(--background-default)":"var(--background-root)",";cursor:pointer;border:1px solid ").concat(g?"var(--background-default)":"var(--background-root)","}.repl-item.__jsx-style-dynamic-selector:hover{color:").concat(g?"var(--foreground-default)":"auto",";background-color:").concat(g?"var(--background-higher)":"var(--background-default)","}.repl-item.__jsx-style-dynamic-selector:active{background-color:").concat(g?"var(--background-highest)":"var(--background-higher)",";border:1px solid var(--accent-primary-default)}.user-name-link.__jsx-style-dynamic-selector{-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.privacy-toggle.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.user-link.__jsx-style-dynamic-selector{display:grid;grid-template-columns:20px 1fr;grid-column-gap:10px}.actions.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:end}.title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.title-link.__jsx-style-dynamic-selector{font-size:16px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden}.hosted-url-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:20px;height:20px;color:var(--foreground-dimmest)}.private-icon.__jsx-style-dynamic-selector,.hosted-url-link.__jsx-style-dynamic-selector{margin-left:10px}.multiplayer-icon.__jsx-style-dynamic-selector{margin-left:5px;width:var(--space-16);height:var(--space-16)}.size.__jsx-style-dynamic-selector,.time.__jsx-style-dynamic-selector,.language.__jsx-style-dynamic-selector{color:").concat(g?"auto":"var(--foreground-dimmer)",";white-space:nowrap;font-size:var(--font-size-small);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);width:8px;height:8px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background-color:var(--accent-green-default);-webkit-box-shadow:0 0 12px var(--accent-green-default);-moz-box-shadow:0 0 12px var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default)}.boosts-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}@media screen and (min-width:700px){.title-link.__jsx-style-dynamic-selector{font-size:var(--font-size-subhead-default)}}")})]})},hr=n(61756),xr=function(e){var r,n=e.onCreate,a=e.parentId,i=e.teamId,d=(0,c.useState)(!1),s=d[0],u=d[1],f=(0,ye.Z)(),p=f.showConfirm,m=f.showError,v=(0,o.Z)(function(e){var r=(0,t.Z)({},y,e);return g.D(w,r)}(),2),b=v[0],h=v[1];return(0,c.useEffect)((function(){h.data?(p("Folder created"),u(!1),n()):h.error&&m(h.error.graphQLErrors[0].message||"Something went wrong when creating this folder")}),[h.data,h.error,n,p,m]),(0,l.BX)(l.HY,{children:[(0,l.tZ)(Ue.Z,{isOpen:s,onRequestClose:function(){u(!1)},children:(0,l.tZ)(Re,{onSubmit:function(e){h.loading||b({variables:{name:e,parentId:a,teamId:i}})},hideModal:function(){u(!1)},loading:h.loading,errorMessage:null===(r=h.error)||void 0===r?void 0:r.message})}),(0,l.tZ)(hr.ZP,{iconLeft:(0,l.tZ)(Ze.Z,{}),text:"New folder",onClick:function(){return u(!0)}})]})},kr=function(e){var r=e.fillColor;return(0,l.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"back-folder-icon",viewBox:"0 0 22.3 18.4",children:[(0,l.tZ)("defs",{className:"jsx-c7f4b08f098b98b0",children:(0,l.tZ)(s(),{id:"c7f4b08f098b98b0",children:".back-folder-icon{height:100%;width:100%}.st1{fill:currentColor}"})}),(0,l.BX)("g",{children:[(0,l.tZ)("rect",{x:"1.8",y:"3.7",style:{fill:r},width:"18.5",height:"12.9"}),(0,l.BX)("g",{children:[(0,l.tZ)("path",{className:"st1",d:"M18.5,3V0.8h-6.8V3H1v14.6h20.3V3H18.5z M20,16.3H2.2V4.2h10.8V2.1h4.3v2.1H20V16.3z"}),(0,l.tZ)("rect",{x:"12",y:"2",className:"st1",width:"5.6",height:"2.2"})]})]}),(0,l.tZ)("g",{children:(0,l.tZ)("g",{children:(0,l.tZ)("g",{children:(0,l.tZ)("polygon",{className:"st1",points:"10.3,11.1 16.2,11.1 16.2,9.4 10.3,9.4 10.3,6.9 6.8,10.3 10.3,13.8 "})})})})]})},yr=function(e){var r=e.pathnames,n=e.username;return(0,l.tZ)(S(),(0,a.Z)((0,t.Z)({},n?(0,ie.wQ)({pathnames:r,username:n}):(0,ie.xd)({pathnames:r})),{children:(0,l.BX)("a",{className:"jsx-1af6696ec51d1108",children:[(0,l.tZ)("div",{className:"jsx-1af6696ec51d1108 icon",children:(0,l.tZ)(kr,{fillColor:"var(--background-root)"})}),(0,l.tZ)("div",{className:"jsx-1af6696ec51d1108",children:"(up 1 level)"}),(0,l.tZ)(s(),{id:"1af6696ec51d1108",children:".icon.jsx-1af6696ec51d1108{color:var(--foreground-dimmest);padding:0 8px}a.jsx-1af6696ec51d1108{min-height:64px;display:grid;grid-column-gap:20px;grid-template-columns:40px auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;padding:var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);text-decoration:none;border:1px solid transparent}a.jsx-1af6696ec51d1108:hover{background-color:var(--background-default)}a.jsx-1af6696ec51d1108:active{background-color:var(--background-higher);border-color:var(--accent-primary-default)}"})]})}))},Zr=n(88662),wr=function(e){var r=e.folder,n=e.children,t=(0,o.Z)((0,Zr.L)({accept:[_.Folder,_.Repl],drop:function(){return r},collect:function(e){var n=e.getItem()||!1;return{isActive:e.isOver()&&e.canDrop()&&n&&n.id!==r.id}}}),2),a=t[0].isActive,i=t[1];return(0,l.BX)("div",{ref:i,className:"jsx-d463a447cfe14358 "+(U()({"is-active":a})||""),children:[n,(0,l.tZ)(s(),{id:"d463a447cfe14358",children:".is-active.jsx-d463a447cfe14358{background:var(--accent-primary-default)}"})]})},Rr=n(91296),jr=n.n(Rr),_r=function(e){var r=e.loadMore,n=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=jr()((function(){n.current&&function(e){var r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(n.current)&&r()}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[r]),(0,l.tZ)("div",{ref:n})},Ir="var(--accent-yellow-dimmer)",Cr="var(--accent-yellow-dimmest)",Pr="var(--accent-yellow-default)",zr=38,Dr=69,Sr=3,Fr={width:zr-Sr,height:zr-4},Nr=function(e){var r=e.onClick,n=e.enabled,t=e.title;return(0,l.BX)("div",{onClick:r,title:t,className:s().dynamic([["7df21c9fba3a81a3",[Dr,zr,zr,Cr,Ir,Ir,Fr.width,Fr.height,Sr,Pr,Dr-Fr.width-Sr]]])+" "+(U()("star-toggle",{"star-toggle-toggled":n})||""),children:[(0,l.BX)("div",{className:s().dynamic([["7df21c9fba3a81a3",[Dr,zr,zr,Cr,Ir,Ir,Fr.width,Fr.height,Sr,Pr,Dr-Fr.width-Sr]]])+" star-toggle-control",children:[(0,l.tZ)("div",{className:s().dynamic([["7df21c9fba3a81a3",[Dr,zr,zr,Cr,Ir,Ir,Fr.width,Fr.height,Sr,Pr,Dr-Fr.width-Sr]]])+" star-toggle-icon",children:(0,l.tZ)(fr,{stroke:"none",fill:"var(--foreground-dimmest)",name:"star-toggle-icon"})}),(0,l.tZ)("div",{className:s().dynamic([["7df21c9fba3a81a3",[Dr,zr,zr,Cr,Ir,Ir,Fr.width,Fr.height,Sr,Pr,Dr-Fr.width-Sr]]])+" star-toggle-icon-active",children:(0,l.tZ)(fr,{stroke:"none",fill:"var(--background-root)",name:"star-toggle-icon-active"})})]}),(0,l.tZ)(s(),{id:"7df21c9fba3a81a3",dynamic:[Dr,zr,zr,Cr,Ir,Ir,Fr.width,Fr.height,Sr,Pr,Dr-Fr.width-Sr],children:".star-toggle.__jsx-style-dynamic-selector{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:".concat(Dr,"px;height:").concat(zr,"px;background-color:var(--background-root);border:1.5px solid var(--outline-dimmest);-webkit-transition:background-color 200ms;-moz-transition:background-color 200ms;-o-transition:background-color 200ms;transition:background-color 200ms;-webkit-border-radius:").concat(zr,"px;-moz-border-radius:").concat(zr,"px;border-radius:").concat(zr,"px;position:relative}.star-toggle.__jsx-style-dynamic-selector:hover{border-color:").concat(Cr,"}.star-toggle.star-toggle-toggled.__jsx-style-dynamic-selector{background-color:").concat(Ir,";border-color:").concat(Ir,"}.star-toggle-control.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 200ms;-moz-transition:-moz-transform 200ms;-o-transition:-o-transform 200ms;transition:-webkit-transform 200ms;transition:-moz-transform 200ms;transition:-o-transform 200ms;transition:transform 200ms;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:").concat(Fr.width,"px;height:").concat(Fr.height,"px;position:absolute;background-color:var(--background-default);top:50%;-webkit-transform:translate(").concat(Sr,"px,-50%);-moz-transform:translate(").concat(Sr,"px,-50%);-ms-transform:translate(").concat(Sr,"px,-50%);-o-transform:translate(").concat(Sr,"px,-50%);transform:translate(").concat(Sr,"px,-50%)}.star-toggle.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-control.__jsx-style-dynamic-selector{background-color:").concat(Pr,";-webkit-transform:translate(").concat(Dr-Fr.width-Sr,"px,-50%);-moz-transform:translate(").concat(Dr-Fr.width-Sr,"px,-50%);-ms-transform:translate(").concat(Dr-Fr.width-Sr,"px,-50%);-o-transform:translate(").concat(Dr-Fr.width-Sr,"px,-50%);transform:translate(").concat(Dr-Fr.width-Sr,"px,-50%)}.star-toggle-icon.__jsx-style-dynamic-selector,.star-toggle-icon-active.__jsx-style-dynamic-selector{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.star-toggle-icon.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector,.star-toggle-icon-active.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{display:block}.star-toggle-icon-active.__jsx-style-dynamic-selector{display:none}.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-icon-active.__jsx-style-dynamic-selector{display:block}.star-toggle-toggled.__jsx-style-dynamic-selector .star-toggle-icon.__jsx-style-dynamic-selector{display:none}")})]})},Br=function(e){var r=e.starred,n=e.username,o=(0,Ie.useRouter)();return(0,l.tZ)(S(),{href:{pathname:o.pathname,query:(0,a.Z)((0,t.Z)({},r?{}:{starred:!0}),{username:n})},as:{pathname:"/@".concat(n),query:(0,a.Z)((0,t.Z)({},r?{}:{starred:!0}),{username:n})},scroll:!1,shallow:!0,children:(0,l.tZ)("a",{children:(0,l.tZ)(Nr,{enabled:r,onClick:void 0,title:"toggle starred"})})})},Mr=n(47634),Er=n(92002),Tr=n(44781),Xr=n(77365),Ur=function(e){var r,n,d=e.path,c=e.starred,u=e.refetchRepls,f=function(e){var r=(0,t.Z)({},y,e);return b.a(Z,r)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:d,starred:c},ssr:!1,notifyOnNetworkStatusChange:!0}),p=f.data,m=f.loading,v=f.refetch,g=f.fetchMore,h=(0,ye.Z)(),x=h.showError,k=h.showConfirm,w=(0,o.Z)(j({onError:function(e){return x(e.message)},update:function(e,r){var n=r.data;n&&C&&(n.moveItemsToFolder.forEach((function(r){e.modify({id:e.identify({__typename:"ReplFolder",id:C.id}),optimistic:!0,fields:{folders:function(e,n){var t=n.readField;if("ReplFolder"!==r.__typename)return e;var a=e.filter((function(e){return t("id",e)!==r.id}));return a},repls:function(e,n){var t=n.readField;if("Repl"!==r.__typename)return e;var a=e.items.filter((function(e){return t("id",e)!==r.id}));return{pageInfo:e.pageInfo,items:a}}}})})),k("Item moved!"))}}),2),R=w[0],_=w[1],C=p&&p.currentUser&&p.currentUser.replFolderByPath?p.currentUser.replFolderByPath:null,D=p&&(null===(r=p.currentUser)||void 0===r?void 0:r.username),S=1===(null===C||void 0===C?void 0:C.pathnames.length)&&""===(null===C||void 0===C?void 0:C.pathnames[0])||null===C||void 0===C?void 0:C.id,F=!!c,N=C&&C.folders.length+C.repls.items.length===0,B=C&&1===C.folders.length&&0===C.repls.items.length&&"multiplayer"===C.folders[0].pathnames[0],M=!F&&(N||B)&&((null===C||void 0===C?void 0:C.canEdit)||!S),E=C&&C.repls.pageInfo.nextCursor?C&&C.repls.pageInfo.nextCursor:null,T=(null===C||void 0===C?void 0:C.ownerId)&&(null===C||void 0===C?void 0:C.ownerId)!==(null===p||void 0===p||null===(n=p.currentUser)||void 0===n?void 0:n.id)?C.ownerId:void 0,X=function(e){if(!_.loading){var r="repl"in e?[e.repl.id]:[],n="folder"in e?[e.folder.id]:[];R({variables:{replIds:r,folderIds:n,destFolderId:e.to.id,teamId:T}})}};return!p&&m?(0,l.BX)("div",{className:"jsx-4c0e34e662959d8a spinner",children:[(0,l.tZ)(Xr.Z,{}),(0,l.tZ)(s(),{id:"4c0e34e662959d8a",children:".spinner.jsx-4c0e34e662959d8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;width:100%;height:100%}"})]}):C?(0,l.BX)("div",{className:"jsx-e3beffd3c693c100",children:[(0,l.BX)("div",{className:"jsx-e3beffd3c693c100 header",children:[M||!C.canCreateSubFolders&&S?(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100"}):(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100 new-folder",children:(0,l.tZ)(xr,{onCreate:v,parentId:S,teamId:T})}),(0,l.tZ)(Br,{starred:!!c,username:D})]}),(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100 spacer"}),(0,l.tZ)(I.Z,{children:(0,l.BX)("div",{className:"jsx-e3beffd3c693c100",children:[C.parent&&C.canEdit?(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100",children:(0,l.tZ)(wr,{folder:C.parent,children:(0,l.tZ)(yr,{pathnames:C.parent.pathnames,username:D})})}):null,C.parent&&!C.canEdit?(0,l.tZ)(yr,{pathnames:C.parent.pathnames,username:D}):null,F?null:C.folders.map((function(e){return e.canEdit?(0,l.tZ)(wr,{folder:e,children:(0,l.tZ)(z,{onMove:X,folder:e,children:(0,l.tZ)(Ae,{onDelete:v,folder:e,teamId:T,username:D,onMove:v})})},e.id):(0,l.tZ)(Ae,{onDelete:v,teamId:T,username:D,onMove:v,folder:e},e.id)})),C.repls.items.map((function(e){return(0,l.tZ)(P,{onMove:X,repl:e,children:(0,l.tZ)(gr,{repl:e,onMove:v,onDelete:v,onPinToggle:u,teamId:T})},e.id)})),M?(0,l.BX)("div",{className:"jsx-e3beffd3c693c100 cta-box",children:[(0,l.tZ)(Tr.Z,{children:"You don\u2019t seem to have anything in here."}),(0,l.tZ)("br",{className:"jsx-e3beffd3c693c100"}),(0,l.tZ)(Tr.Z,{children:"Let\u2019s change that!"}),(0,l.BX)("div",{className:"jsx-e3beffd3c693c100 button-container",children:[(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,l.tZ)(xr,{onCreate:v,parentId:S,teamId:T})}),(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,l.tZ)(Mr.Z,{trackingContext:"repl folder",children:(0,l.tZ)(hr.ZP,{iconLeft:(0,l.tZ)(Er.Z,{}),text:"New Repl"})})})]})]}):null]})}),m?(0,l.tZ)("div",{className:"jsx-e3beffd3c693c100 load-more-spinner",children:(0,l.tZ)(Xr.Z,{})}):null,E&&!m?(0,l.tZ)(_r,{loadMore:function(){E&&!m&&g({variables:{path:d,starred:c,after:E},updateQuery:function(e,r){var n=r.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&n&&n.currentUser&&n.currentUser.replFolderByPath?{currentUser:(0,a.Z)((0,t.Z)({},n.currentUser),{replFolderByPath:(0,a.Z)((0,t.Z)({},n.currentUser.replFolderByPath),{repls:{pageInfo:(0,t.Z)({},n.currentUser.replFolderByPath.repls.pageInfo),items:(0,i.Z)(e.currentUser.replFolderByPath.repls.items).concat((0,i.Z)(n.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null,(0,l.tZ)(s(),{id:"e3beffd3c693c100",children:".cta-box.jsx-e3beffd3c693c100{margin:15px auto;padding:40px 25px 30px 25px;border-style:dashed;border-color:var(--outline-dimmer);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border-width:thin;text-align:center;max-width:500px}.empty-state.jsx-e3beffd3c693c100{margin:40px auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--outline-default)}.button-container.jsx-e3beffd3c693c100{margin-top:15px}.cta-button.jsx-e3beffd3c693c100{padding:5px;display:grid;vertical-align:middle}.content.jsx-e3beffd3c693c100{margin-left:4px}.spacer.jsx-e3beffd3c693c100{height:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}@media screen and (min-width:450px){.cta-button.jsx-e3beffd3c693c100{padding:5px;display:inline-block;vertical-align:middle}}.spinner.jsx-e3beffd3c693c100{width:100%;height:100%}.spinner.jsx-e3beffd3c693c100,.load-more-spinner.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}.header.jsx-e3beffd3c693c100{display:grid;grid-template-columns:1fr auto auto;grid-column-gap:20px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.empty-folder.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.new-folder.jsx-e3beffd3c693c100{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.empty-folder.jsx-e3beffd3c693c100 *.jsx-e3beffd3c693c100{padding:var(--space-16)}"})]}):(0,l.BX)("div",{className:"jsx-b9539186b6f901cf",children:[(0,l.tZ)(Tr.Z,{children:"Unable to fetch repls. Please try again."}),(0,l.tZ)(s(),{id:"b9539186b6f901cf",children:"div.jsx-b9539186b6f901cf{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-16)}"})]})}},74926:function(e,r,n){var t=n(26042),a=n(69396),o=n(35944),i=n(87603),l=n.n(i),d=n(67294),s=n(41664),c=n.n(s),u=n(88652),f=n(44781);r.Z=function(e){var r=e.links,n=e.username;return(0,o.BX)("div",{className:"jsx-d127d53140f59bd8",children:[(0,o.tZ)(f.Z,{size:"small",children:r.map((function(e,i){var l=e.pathnames,s=e.text;return(0,o.BX)(d.Fragment,{children:[i===r.length-1?s:(0,o.tZ)(c(),(0,a.Z)((0,t.Z)({},n?(0,u.wQ)({pathnames:l,username:n}):(0,u.xd)({pathnames:l})),{children:(0,o.tZ)("a",{className:"jsx-d127d53140f59bd8",children:s})})),(0,o.tZ)("span",{className:"jsx-d127d53140f59bd8",children:"/"})]},l.join("/"))}))}),(0,o.tZ)(l(),{id:"d127d53140f59bd8",children:"div.jsx-d127d53140f59bd8{font-size:14px}span.jsx-d127d53140f59bd8{color:var(--foreground-dimmer)}"})]})}},47966:function(e,r,n){n.d(r,{sH:function(){return h},CW:function(){return _},x$:function(){return Z},cM:function(){return R},G5:function(){return k}});var t=n(26042),a=n(7297),o=n(31230);function i(){var e=(0,a.Z)(["\n  fragment ReplsDashboardReplItemActionsRepl on Repl {\n    id\n    url\n    slug\n    analyticsUrl\n    pinnedToProfile\n    isPrivate\n    currentUserPermissions {\n      changeTitle\n      changeDescription\n      changeLanguage\n      changeConfig\n      changePrivacy\n      containerWrite\n      star\n      pin\n      move\n      delete\n      leaveMultiplayer\n      viewHistory\n      fork\n    }\n  }\n"]);return i=function(){return e},e}var l=(0,o.Ps)(i()),d=n(21767),s=n(16092),c=n(93053),u=n(50319);function f(){var e=(0,a.Z)(["\n  fragment ReplsDashboardReplItemRepl on Repl {\n    id\n    title\n    description\n    timeCreated\n    size\n    isStarred\n    isPrivate\n    isOwner\n    isAlwaysOn\n    isBoosted\n    slug\n    url\n    hostedUrl\n    templateInfo {\n      label\n    }\n    ...ReplsDashboardReplItemActionsRepl\n    ...ReplLinkRepl\n    user {\n      id\n      image\n      username\n      ...UserLinkUser\n    }\n    config {\n      isServer\n    }\n    isRenamed\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,a.Z)(["\n  mutation ReplsDashboardUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function m(){var e=(0,a.Z)(["\n  mutation ReplsDashboardReplItemPinReplToProfile($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,a.Z)(["\n  mutation ReplsDashboardUnpinReplFromProfile($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function b(){var e=(0,a.Z)(["\n  mutation ReplsDashboardRemoveRepl($id: String!) {\n    removeSharedRepl(replId: $id) {\n      id\n    }\n  }\n"]);return b=function(){return e},e}var g={},h=(0,o.Ps)(f(),l,d.Y,s._),x=(0,o.Ps)(p(),h);function k(e){var r=(0,t.Z)({},g,e);return u.D(x,r)}var y=(0,o.Ps)(m(),c.A);function Z(e){var r=(0,t.Z)({},g,e);return u.D(y,r)}var w=(0,o.Ps)(v(),c.A);function R(e){var r=(0,t.Z)({},g,e);return u.D(w,r)}var j=(0,o.Ps)(b());function _(e){var r=(0,t.Z)({},g,e);return u.D(j,r)}},21266:function(e,r,n){var t=n(26042),a=n(69396),o=n(35944);n(67294);r.Z=function(e){return(0,o.tZ)("svg",(0,a.Z)((0,t.Z)({width:20,height:18,viewBox:"0 0 14 18",fill:e.color},e),{children:(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2h2a2 2 0 012 2v2c0 .364-.097.706-.268 1H4.268A1.99 1.99 0 014 6V4a2 2 0 012-2zM2.126 7A4.007 4.007 0 012 6V4a4 4 0 014-4h2a4 4 0 014 4v2c0 .345-.044.68-.126 1H12a2 2 0 012 2v7a2 2 0 01-2 2H2a2 2 0 01-2-2V9a2 2 0 012-2h.126z"})}))}}}]);
//# sourceMappingURL=1245-680f93a988663c5e.js.map